# quantum_influence
The presented program is a modular and multithreaded data collection and analysis application for psychokinesis experiments, using a true random number generator (the med100kx8) as a device under test. It's written in Python and uses MySQL for data storage.


## Program Summary

The program overview is as follows:

1. The user inputs their participant information including their personal data, some environmental info, and the settings for the trial.

1. The program connects to the random number generator, gets the raw bytes from it, and converts these bytes to binary strings of 1s and 0s.

1. It uses Scott Wilber's Random Walk Bias Amplification (RWBA) method with advanced processing methods for increased effect size in anomalous cognition [details](https://drive.google.com/file/d/1rP7Ee35K0kbQ3zXCcZvnj3d5WqmROTT_/view). By default we use a bound of 31, which is the distance to the upper or lower bound. Basically every 1 that's generated is a step to the right, every 0 generated is a step to the left. This runs until either the upper or lower bound of 31 / -31 is hit. We track how many steps it took to hit the bound and which bound was hit.

1. Results are then grouped into subtrials, trials, windows, window groups, and supertrials. A subtrial consists of one attempt to hit an upper or lower bound. By default there are 21 subtrials per trial, 5 trials per window, 10 windows per group. A window lasts roughly 1 second. One supertrial equals one overall run, which can be configured either to execute indefinite or based on a configured amount of seconds.

1. For each trial, window, and window group we calculate p and z values to determine probability of randomness. Both one-tailed (targeting either just more 1s or just more 0s) and two-tailed (targeting both more 1s and more 0s) are supported in a given supertrial. All results are saved to the database.

1. Calculated probability values are used to control a graphic window that displays a spinning cube, a bar-chart, and if two-tailed is selected then an on/off light. Behavior of objects and displayed values is controled by window group probabilities. The goal is to influence the output of the random number generator in such a way so as to reach targets in the graphical window.

1. This program makes use of a multi-threaded design for concurrent processing of data extraction, analysis, and database writing tasks. It also uses a pooled MySQL connection for efficient database operations. Speed is of critical importance because we want to use all or mostly all of the bits generated by the random number generator.


## Files

Here's a brief description of the files:

**main.py**: The main execution script for the program. 

**get_supertrial**: Pulls the last supertrial ID from the database.

**extract_numbers.py**: Extracts raw bytes from the random number generator and converts them into binary strings.

**analyze_subtrial.py**: Performs the random walk basis analysis to determine whether upper or lower bound is hit, and in how many steps.

**process_trial.py**: Combines subtrial data into trials and performs some analysis.

**get_dst.py**: Retreives and stores the Solar DST (Solar Dst Index), is a measure of the disturbance level in the Earth's magnetosphere caused by solar wind variations.

**get_kp.py**: Retreives and stores the Kp geomagnetic index, a measurement of the global geomagnetic activity level, as well as other solar data. 

**graphic.py**: Generates and controls the graphic window with the spinning cube, bar-chart, on/off switch, and displayed data.

**p_and_z_funcs.py**: Used to calculate probabilities of trials, windows, and window groups.

**participant.py**: Prompts the user for input data (personal, environtal, supertrial configurations).

**write_to_database.py**: Controls writes to the database.


## Setup (assuming OS X)

The program requires Python 3.6 or later.

1. Install required libraries:
    ```mysql```
    ```PyMySQL```
    ```scipy```
    ```dbutils```
    ```pygame```
    ```pyopengl```
    ```pyftdi```
    ```futures```
1. Run MySQL\
    ```$ mysqld&```
1. Connect to MySQL\
    ```% mysql -u root```
1. Create the database\
    ```mysql> create database myDatabase;```\
    ```mysql> \q```
1. Populate and run in terminal\
    ```$ export MYSQL_USER=root```\
    ```$ export MYSQL_PASSWORD=```\
    ```$ export MYSQL_HOST=localhost```\
    ```$ export MYSQL_DB=myDatabase```
1. Goto folder and create tables\
    ```$ cd quantum_influence/med100kx8```\
    ```$ mysql -u root myDatabase < db_setup.sql```
1. Install Python module\
    ```$ pip3 install -r requirements.txt```
1. Set your MED's serial number in main.py#33\
    ```serial_number = "QWR4E001"  # Replace with your serial number```

## Running
``` cd run```\
```$ python3 main.py```

## Demos below (click images).

Two-tailed (turn device on/off) with 30 second run-time selected (click for video):

[![Demo on Youtube](https://i.ibb.co/z8pWwfC/screenshot1.png)](https://youtu.be/8FgY3Wmqm7Q)

One-tailed with indefinite run-time selected (click for video):

[![Demo on Youtube](https://i.ibb.co/12sFxLJ/screenshot2.png)](https://youtu.be/9u5S-hcTauI)


## Contributing
Contributions are welcome. Please submit a Pull Request or open an issue for any enhancements, bug fixes, or feature requests.
