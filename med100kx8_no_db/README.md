# med100kx8_no_db
The presented program is a modular and multithreaded data collection and analysis application for psychokinesis experiments, using a true random number generator (the med100kx8) as a device under test. It's written in Python. This is a simplified version of the broader med100kx8, which stores a variety of data to a database. This narrowed-down version stores no data. The expanded version, which stores a broad range of real-time data for later analysis, can be found [here](https://github.com/danosb/quantum_influence/tree/main/med100kx8).


## Program Summary

The program overview is as follows:

1. The user inputs basic data to configure the run.

1. The program connects to the random number generator, gets the raw bytes from it, and converts these bytes to binary strings of 1s and 0s.

1. It uses Scott Wilber's Random Walk Bias Amplification (RWBA) method with advanced processing methods for increased effect size in anomalous cognition [details](https://drive.google.com/file/d/1rP7Ee35K0kbQ3zXCcZvnj3d5WqmROTT_/view). By default we use a bound of 31, which is the distance to the upper or lower bound. Basically every 1 that's generated is a step to the right, every 0 generated is a step to the left. This runs until either the upper or lower bound of 31 / -31 is hit. We track how many steps it took to hit the bound and which bound was hit.

1. Results are then grouped into subtrials, trials, windows, window groups, and supertrials. A subtrial consists of one attempt to hit an upper or lower bound. By default there are 21 subtrials per trial, 5 trials per window, 10 windows per window group. A window lasts roughly 1 second. A supertrial equals one overall program execution, which can be configured either to execute indefinitely or based on a configured amount of seconds.

1. For each trial, window, and window group we calculate p and z values to determine probability of randomness. Both one-tailed (targeting either just more 1s or just more 0s) and two-tailed (targeting both more 1s and more 0s) are supported in a given supertrial. 

1. Calculated probability values are used to control a graphic window that displays a spinning cube, a bar-chart, and if two-tailed is selected then an on/off light. Behavior of objects and displayed values is controled by window group probabilities. The goal is to influence the output of the random number generator in such a way so as to reach targets in the graphical window.

1. This program makes use of a multi-threaded design for concurrent processing of data extraction and analysis. Speed is of critical importance because we want to use all or mostly all of the bits generated by the random number generator.


## Files

Here's a brief description of the files:

* **main.py**: The main execution script for the program. 
* **extract_numbers.py**: Extracts raw bytes from the random number generator and converts them into binary strings.
* **analyze_subtrial.py**: Performs the random walk basis analysis to determine whether upper or lower bound is hit, and in how many steps.
* **process_trial.py**: Combines subtrial data into trials and performs some analysis.
* **graphic.py**: Generates and controls the graphic window with the spinning cube, bar-chart, on/off switch, and displayed data.
* **p_and_z_funcs.py**: Used to calculate probabilities of trials, windows, and window groups.
* **participant.py**: Prompts the user for input data (personal, environtal, supertrial configurations).

## Setup Instructions

1. Ensure that pip and Python 3.6 or later are installed
1. Run the following:
   
    ```pip install pyftdi datetime scipy requests pytz libusb urllib3 futures pygame numpy pyopengl libusb1 PyOpenGL_accelerate```
   
    ```pip install playsound==1.2.2```
   
## Windows Setup Additional Instructions

1. Install FTDI drivers: https://ftdichip.com/wp-content/uploads/2021/08/CDM212364_Setup.zip (not sure if this is actually required)

2. Download https://zadig.akeo.ie/
- Options > List all devices
- Find med100kx8
- Change driver to libusb-win32 and click Replace


## OSX Setup Additional Instructions

1. Nothing additional required


## Running

1. Navigate to quantum_influence\med100kx8_no_db directory in terminal
```python main.py```
or 
```python3 main.py```


## Demos below (click images).

Two-tailed (turn device on/off) with indefinite run-time selected (click for video):

[![Demo on Youtube](https://i.ibb.co/h8dbbnC/ss.png))](https://youtu.be/wIXsSdyPN0Y)


## Contributing
Contributions are welcome. Please submit a Pull Request or open an issue for any enhancements, bug fixes, or feature requests.
